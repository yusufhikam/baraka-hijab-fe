(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,92228,e=>{"use strict";var i=e.i(25516),n=e.i(65539),r=e.i(5371),t=e.i(14779),o=e.i(62145);function s(){let e,s,a=(0,i.c)(6),[l,c]=(0,t.useState)(!1),d=(0,r.useRouter)(),u=(0,n.useQueryClient)();a[0]!==u||a[1]!==d?(e=(e,i)=>window.snap?(c(!0),new Promise((n,r)=>{window.snap.pay(e,{onSuccess:e=>{c(!1),d.replace(`/checkout/success?order_id=${i}`),o.toast.success("Payment Successfull",{position:"top-right",richColors:!0,onAutoClose:()=>{d.replace(`/checkout/success?order_id=${i}`),u.invalidateQueries({queryKey:["transactions"]})}}),n()},onError:e=>{c(!1),console.error("ðŸš€ ~ BillingDetails ~ error:",e),o.toast.error("Payment failed. Please try again.",{position:"top-right",richColors:!0}),d.replace("/user/transactions"),r(e)},onClose:()=>{c(!1),o.toast.info("Payment not completed. You can continue payment in your transaction page.",{position:"top-right"}),d.replace("/user/transactions")}})})):Promise.reject(Error("Snap not ready yet.")),a[0]=u,a[1]=d,a[2]=e):e=a[2];let p=e;return a[3]!==p||a[4]!==l?(s={initiatePayment:p,isProcessing:l},a[3]=p,a[4]=l,a[5]=s):s=a[5],s}e.s(["default",()=>s])},96005,e=>{"use strict";var i=e.i(77307),n=e.i(25516),r=e.i(67339),t=e.i(92228),o=e.i(55542),s=e.i(89414),a=e.i(5371),l=e.i(14779);e.s(["default",0,e=>{let c,d,u,p,m,h,y,x,f,g,b,w,v,j,k=(0,n.c)(38),{transaction:C}=e,P=(0,a.useRouter)(),{initiatePayment:_,isProcessing:A}=(0,t.default)(),B=C?.status;k[0]!==_||k[1]!==B||k[2]!==C?(c=async()=>{"pending"===B&&C?.snap_token&&await _(C.snap_token,C.order_id)},k[0]=_,k[1]=B,k[2]=C,k[3]=c):c=k[3];let N=c,S="pending"===B?"visible":"hidden",R=A&&"cursor-wait";k[4]!==R?(d=(0,o.cn)("bg-baraka-primary-300 xs:inline-flex xs:min-w-40 min-w-full cursor-pointer items-center justify-center rounded-none",R),k[4]=R,k[5]=d):d=k[5],k[6]!==A?(u=A?(0,i.jsx)(s.Loader2,{className:"animate-spin"}):"Pay Now",k[6]=A,k[7]=u):u=k[7],k[8]!==N||k[9]!==A||k[10]!==d||k[11]!==u?(p=(0,i.jsx)(r.Button,{onClick:N,disabled:A,className:d,children:u}),k[8]=N,k[9]=A,k[10]=d,k[11]=u,k[12]=p):p=k[12],k[13]!==S||k[14]!==p?(m=(0,i.jsx)(l.Activity,{mode:S,children:p}),k[13]=S,k[14]=p,k[15]=m):m=k[15];let T="paid"===B?"visible":"hidden";k[16]===Symbol.for("react.memo_cache_sentinel")?(h=(0,i.jsx)(r.Button,{className:"bg-baraka-primary-300 hover:bg-baraka-lightgreen-200 xs:min-w-40 min-w-full cursor-pointer rounded-none hover:text-white",children:"Rate Product"}),k[16]=h):h=k[16],k[17]!==T?(y=(0,i.jsx)(l.Activity,{mode:T,children:h}),k[17]=T,k[18]=y):y=k[18];let K="paid"===B||"expire"===B||"canceled"===B?"visible":"hidden";k[19]!==P?(x=()=>P.push("/store",{scroll:!1}),k[19]=P,k[20]=x):x=k[20];let E="pending"!==B?"outline":"default",O="pending"===B||"expire"===B?"bg-baraka-primary-300 hover:bg-baraka-lightgreen-200 text-white hover:text-white":"border-baraka-primary-300";k[21]!==O?(f=(0,o.cn)("xs:min-w-40 min-w-full cursor-pointer rounded-none",O),k[21]=O,k[22]=f):f=k[22],k[23]!==x||k[24]!==E||k[25]!==f?(g=(0,i.jsx)(r.Button,{onClick:x,variant:E,className:f,children:"Buy Again"}),k[23]=x,k[24]=E,k[25]=f,k[26]=g):g=k[26],k[27]!==K||k[28]!==g?(b=(0,i.jsx)(l.Activity,{mode:K,children:g}),k[27]=K,k[28]=g,k[29]=b):b=k[29];let Q="pending"===B?"visible":"hidden";return k[30]===Symbol.for("react.memo_cache_sentinel")?(w=(0,i.jsx)(r.Button,{className:"xs:min-w-40 min-w-full cursor-pointer rounded-none border-red-500",variant:"outline",children:"Cancel"}),k[30]=w):w=k[30],k[31]!==Q?(v=(0,i.jsx)(l.Activity,{mode:Q,children:w}),k[31]=Q,k[32]=v):v=k[32],k[33]!==y||k[34]!==b||k[35]!==v||k[36]!==m?(j=(0,i.jsxs)("div",{className:"font-geist xs:flex-row inline-flex w-full flex-1 flex-col items-center justify-end gap-4 overflow-hidden",children:[m,y,b,v]}),k[33]=y,k[34]=b,k[35]=v,k[36]=m,k[37]=j):j=k[37],j}])},97061,e=>{e.n(e.i(96005))}]);