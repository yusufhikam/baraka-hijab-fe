module.exports=[9895,a=>{"use strict";var b=a.i(48754),c=a.i(53424),d=a.i(77729),e=a.i(83231);function f(){let[a,f]=(0,d.useState)(!1),g=(0,c.useRouter)(),h=(0,b.useQueryClient)();return{initiatePayment:(0,d.useCallback)((a,b)=>window.snap?(f(!0),new Promise((c,d)=>{window.snap.pay(a,{onSuccess:a=>{f(!1),g.replace(`/checkout/success?order_id=${b}`),e.toast.success("Payment Successfull",{position:"top-right",richColors:!0,onAutoClose:()=>{g.replace(`/checkout/success?order_id=${b}`),h.invalidateQueries({queryKey:["transactions"]})}}),c()},onError:a=>{f(!1),console.error("ðŸš€ ~ BillingDetails ~ error:",a),e.toast.error("Payment failed. Please try again.",{position:"top-right",richColors:!0}),g.replace("/user/transactions"),d(a)},onClose:()=>{f(!1),e.toast.info("Payment not completed. You can continue payment in your transaction page.",{position:"top-right"}),g.replace("/user/transactions")}})})):Promise.reject(Error("Snap not ready yet.")),[g,h]),isProcessing:a}}a.s(["default",()=>f])},30723,a=>{"use strict";var b=a.i(90767),c=a.i(10014),d=a.i(9895),e=a.i(82742),f=a.i(70414),g=a.i(53424),h=a.i(77729);a.s(["default",0,({transaction:a})=>{let i=(0,g.useRouter)(),{initiatePayment:j,isProcessing:k}=(0,d.default)(),l=a?.status,m=async()=>{"pending"===l&&a?.snap_token&&await j(a.snap_token,a.order_id)};return(0,b.jsxs)("div",{className:"font-geist xs:flex-row inline-flex w-full flex-1 flex-col items-center justify-end gap-4 overflow-hidden",children:[(0,b.jsx)(h.Activity,{mode:"pending"===l?"visible":"hidden",children:(0,b.jsx)(c.Button,{onClick:m,disabled:k,className:(0,e.cn)("bg-baraka-primary-300 xs:inline-flex xs:min-w-40 min-w-full cursor-pointer items-center justify-center rounded-none",k&&"cursor-wait"),children:k?(0,b.jsx)(f.Loader2,{className:"animate-spin"}):"Pay Now"})}),(0,b.jsx)(h.Activity,{mode:"paid"===l?"visible":"hidden",children:(0,b.jsx)(c.Button,{className:"bg-baraka-primary-300 hover:bg-baraka-lightgreen-200 xs:min-w-40 min-w-full cursor-pointer rounded-none hover:text-white",children:"Rate Product"})}),(0,b.jsx)(h.Activity,{mode:"paid"===l||"expire"===l||"canceled"===l?"visible":"hidden",children:(0,b.jsx)(c.Button,{onClick:()=>i.push("/store",{scroll:!1}),variant:"pending"!==l?"outline":"default",className:(0,e.cn)("xs:min-w-40 min-w-full cursor-pointer rounded-none","pending"===l||"expire"===l?"bg-baraka-primary-300 hover:bg-baraka-lightgreen-200 text-white hover:text-white":"border-baraka-primary-300"),children:"Buy Again"})}),(0,b.jsx)(h.Activity,{mode:"pending"===l?"visible":"hidden",children:(0,b.jsx)(c.Button,{className:"xs:min-w-40 min-w-full cursor-pointer rounded-none border-red-500",variant:"outline",children:"Cancel"})})]})}])},22757,a=>{a.n(a.i(30723))}];

//# sourceMappingURL=nextjs_6d24e02f._.js.map